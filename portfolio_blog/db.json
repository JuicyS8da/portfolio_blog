[{"model": "admin.logentry", "pk": 1, "fields": {"action_time": "2023-06-16T15:33:12.172Z", "user": 1, "content_type": 10, "object_id": "1", "object_repr": "Frontend", "action_flag": 1, "change_message": "[{\"added\": {}}]"}}, {"model": "admin.logentry", "pk": 2, "fields": {"action_time": "2023-06-16T15:34:11.416Z", "user": 1, "content_type": 11, "object_id": "1", "object_repr": "How I made frontend for this site?", "action_flag": 1, "change_message": "[{\"added\": {}}]"}}, {"model": "admin.logentry", "pk": 3, "fields": {"action_time": "2023-06-16T15:34:49.008Z", "user": 1, "content_type": 7, "object_id": "1", "object_repr": "About object (1)", "action_flag": 1, "change_message": "[{\"added\": {}}]"}}, {"model": "admin.logentry", "pk": 4, "fields": {"action_time": "2023-06-16T15:35:43.292Z", "user": 1, "content_type": 8, "object_id": "1", "object_repr": "Django", "action_flag": 1, "change_message": "[{\"added\": {}}]"}}, {"model": "admin.logentry", "pk": 5, "fields": {"action_time": "2023-06-16T15:35:48.170Z", "user": 1, "content_type": 8, "object_id": "2", "object_repr": "Tips", "action_flag": 1, "change_message": "[{\"added\": {}}]"}}, {"model": "admin.logentry", "pk": 6, "fields": {"action_time": "2023-06-16T15:35:50.117Z", "user": 1, "content_type": 12, "object_id": "1", "object_repr": "Top 10 Mistakes That Django Developers Make", "action_flag": 1, "change_message": "[{\"added\": {}}]"}}, {"model": "admin.logentry", "pk": 7, "fields": {"action_time": "2023-06-16T15:36:16.750Z", "user": 1, "content_type": 9, "object_id": "1", "object_repr": "resume/resume_V4BvoPR.txt", "action_flag": 1, "change_message": "[{\"added\": {}}]"}}, {"model": "auth.permission", "pk": 1, "fields": {"name": "Can add log entry", "content_type": 1, "codename": "add_logentry"}}, {"model": "auth.permission", "pk": 2, "fields": {"name": "Can change log entry", "content_type": 1, "codename": "change_logentry"}}, {"model": "auth.permission", "pk": 3, "fields": {"name": "Can delete log entry", "content_type": 1, "codename": "delete_logentry"}}, {"model": "auth.permission", "pk": 4, "fields": {"name": "Can view log entry", "content_type": 1, "codename": "view_logentry"}}, {"model": "auth.permission", "pk": 5, "fields": {"name": "Can add permission", "content_type": 2, "codename": "add_permission"}}, {"model": "auth.permission", "pk": 6, "fields": {"name": "Can change permission", "content_type": 2, "codename": "change_permission"}}, {"model": "auth.permission", "pk": 7, "fields": {"name": "Can delete permission", "content_type": 2, "codename": "delete_permission"}}, {"model": "auth.permission", "pk": 8, "fields": {"name": "Can view permission", "content_type": 2, "codename": "view_permission"}}, {"model": "auth.permission", "pk": 9, "fields": {"name": "Can add group", "content_type": 3, "codename": "add_group"}}, {"model": "auth.permission", "pk": 10, "fields": {"name": "Can change group", "content_type": 3, "codename": "change_group"}}, {"model": "auth.permission", "pk": 11, "fields": {"name": "Can delete group", "content_type": 3, "codename": "delete_group"}}, {"model": "auth.permission", "pk": 12, "fields": {"name": "Can view group", "content_type": 3, "codename": "view_group"}}, {"model": "auth.permission", "pk": 13, "fields": {"name": "Can add user", "content_type": 4, "codename": "add_user"}}, {"model": "auth.permission", "pk": 14, "fields": {"name": "Can change user", "content_type": 4, "codename": "change_user"}}, {"model": "auth.permission", "pk": 15, "fields": {"name": "Can delete user", "content_type": 4, "codename": "delete_user"}}, {"model": "auth.permission", "pk": 16, "fields": {"name": "Can view user", "content_type": 4, "codename": "view_user"}}, {"model": "auth.permission", "pk": 17, "fields": {"name": "Can add content type", "content_type": 5, "codename": "add_contenttype"}}, {"model": "auth.permission", "pk": 18, "fields": {"name": "Can change content type", "content_type": 5, "codename": "change_contenttype"}}, {"model": "auth.permission", "pk": 19, "fields": {"name": "Can delete content type", "content_type": 5, "codename": "delete_contenttype"}}, {"model": "auth.permission", "pk": 20, "fields": {"name": "Can view content type", "content_type": 5, "codename": "view_contenttype"}}, {"model": "auth.permission", "pk": 21, "fields": {"name": "Can add session", "content_type": 6, "codename": "add_session"}}, {"model": "auth.permission", "pk": 22, "fields": {"name": "Can change session", "content_type": 6, "codename": "change_session"}}, {"model": "auth.permission", "pk": 23, "fields": {"name": "Can delete session", "content_type": 6, "codename": "delete_session"}}, {"model": "auth.permission", "pk": 24, "fields": {"name": "Can view session", "content_type": 6, "codename": "view_session"}}, {"model": "auth.permission", "pk": 25, "fields": {"name": "Can add About", "content_type": 7, "codename": "add_about"}}, {"model": "auth.permission", "pk": 26, "fields": {"name": "Can change About", "content_type": 7, "codename": "change_about"}}, {"model": "auth.permission", "pk": 27, "fields": {"name": "Can delete About", "content_type": 7, "codename": "delete_about"}}, {"model": "auth.permission", "pk": 28, "fields": {"name": "Can view About", "content_type": 7, "codename": "view_about"}}, {"model": "auth.permission", "pk": 29, "fields": {"name": "Can add Post Tag", "content_type": 8, "codename": "add_posttags"}}, {"model": "auth.permission", "pk": 30, "fields": {"name": "Can change Post Tag", "content_type": 8, "codename": "change_posttags"}}, {"model": "auth.permission", "pk": 31, "fields": {"name": "Can delete Post Tag", "content_type": 8, "codename": "delete_posttags"}}, {"model": "auth.permission", "pk": 32, "fields": {"name": "Can view Post Tag", "content_type": 8, "codename": "view_posttags"}}, {"model": "auth.permission", "pk": 33, "fields": {"name": "Can add Resume", "content_type": 9, "codename": "add_resume"}}, {"model": "auth.permission", "pk": 34, "fields": {"name": "Can change Resume", "content_type": 9, "codename": "change_resume"}}, {"model": "auth.permission", "pk": 35, "fields": {"name": "Can delete Resume", "content_type": 9, "codename": "delete_resume"}}, {"model": "auth.permission", "pk": 36, "fields": {"name": "Can view Resume", "content_type": 9, "codename": "view_resume"}}, {"model": "auth.permission", "pk": 37, "fields": {"name": "Can add Work Tag", "content_type": 10, "codename": "add_worktags"}}, {"model": "auth.permission", "pk": 38, "fields": {"name": "Can change Work Tag", "content_type": 10, "codename": "change_worktags"}}, {"model": "auth.permission", "pk": 39, "fields": {"name": "Can delete Work Tag", "content_type": 10, "codename": "delete_worktags"}}, {"model": "auth.permission", "pk": 40, "fields": {"name": "Can view Work Tag", "content_type": 10, "codename": "view_worktags"}}, {"model": "auth.permission", "pk": 41, "fields": {"name": "Can add Work", "content_type": 11, "codename": "add_work"}}, {"model": "auth.permission", "pk": 42, "fields": {"name": "Can change Work", "content_type": 11, "codename": "change_work"}}, {"model": "auth.permission", "pk": 43, "fields": {"name": "Can delete Work", "content_type": 11, "codename": "delete_work"}}, {"model": "auth.permission", "pk": 44, "fields": {"name": "Can view Work", "content_type": 11, "codename": "view_work"}}, {"model": "auth.permission", "pk": 45, "fields": {"name": "Can add Post", "content_type": 12, "codename": "add_post"}}, {"model": "auth.permission", "pk": 46, "fields": {"name": "Can change Post", "content_type": 12, "codename": "change_post"}}, {"model": "auth.permission", "pk": 47, "fields": {"name": "Can delete Post", "content_type": 12, "codename": "delete_post"}}, {"model": "auth.permission", "pk": 48, "fields": {"name": "Can view Post", "content_type": 12, "codename": "view_post"}}, {"model": "auth.user", "pk": 1, "fields": {"password": "pbkdf2_sha256$600000$HTiK8zVABUe23TN7fTQTMf$1GGX1Y3+rgAX9PNA28Gb9Y21ZjZdh/ZKyuxZNwhxpQU=", "last_login": "2023-06-18T09:01:02.984Z", "is_superuser": true, "username": "Gluestick", "first_name": "", "last_name": "", "email": "", "is_staff": true, "is_active": true, "date_joined": "2023-06-16T15:31:45.402Z", "groups": [], "user_permissions": []}}, {"model": "sessions.session", "pk": "qzi1lzbghj1x4vtsjhretco5nddoidrs", "fields": {"session_data": ".eJxVjL0OwyAQg9-FuUIQCD8du-cZ0N0BJW1FpJBMVd-9RMrQSl7sz_abBdi3EvaW1jBHdmWSXX4zBHqmeoD4gHpfOC11W2fkR4WftPFpiel1O7t_BwVa6WtnaESnVIxkkxI2Dd1mqb0RKvtoBRrvTIIRZdYOFaCnLqMIkMSg2ecL5NQ4Og:1qABQs:BgiZjAEbRXG9OW30xYi0Xu7gjVZt0sUozsciqPMqQtQ", "expire_date": "2023-06-30T15:32:14.604Z"}}, {"model": "sessions.session", "pk": "w5ytbk2zbxg9h71ptgs80i0txt8jykte", "fields": {"session_data": ".eJxVjL0OwyAQg9-FuUIQCD8du-cZ0N0BJW1FpJBMVd-9RMrQSl7sz_abBdi3EvaW1jBHdmWSXX4zBHqmeoD4gHpfOC11W2fkR4WftPFpiel1O7t_BwVa6WtnaESnVIxkkxI2Dd1mqb0RKvtoBRrvTIIRZdYOFaCnLqMIkMSg2ecL5NQ4Og:1qAoHO:JzUnY3R2vIB14ROobv2Zlrd1TU3wYqe8s9W_DuXk1Uc", "expire_date": "2023-07-02T09:01:02.986Z"}}, {"model": "home.post", "pk": 1, "fields": {"title": "Top 10 Mistakes That Django Developers Make", "slug": "top-10-mistakes-that-django-developers-make", "short_desc": "<p><span style=\"background-color:rgb(246,248,251);color:rgb(69,80,101);\">In this tutorial, we will look at some common mistakes that are often made by Django developers and ways to avoid them. This tutorial is useful even if you’re a skilled Django developer because these mistakes aren’t just limited to new developers taking their first stab at&nbsp;Django.</span></p>", "content": "<p style=\"margin-left:0px;\">In this tutorial, we will look at some common mistakes that are often made by Django developers and ways to avoid them. This tutorial is useful even if you’re a skilled Django developer because mistakes, like maintaining an unmanageably large settings or naming conflicts in static assets, aren’t just limited to new developers taking their first stab at Django.</p><p style=\"margin-left:0px;\">Django is a free and open source Python web framework that helpfully solves common development challenges and allows you build flexible, well-structured applications. Django has a lot of modern features out of the box. For me personally, the Admin, Object Relational Mapping tool (ORM), Routing, and Templating features made Django my first choice because applications require a lot of work and, while I enjoy my job as much as any developer could, I want to spend as little time as possible on these basic repetitive tasks. Django allows you to do all this without compromising on flexibility.</p><p style=\"margin-left:0px;\">Django’s killer feature is a powerful configurable admin interface which builds automatically (automagically?) from your models’ schema and admin panel models, making you feel like a wizard. Through the Admin interface, a user can configure a lot of things including the access control list (ACL), row-level permissions and actions, filters, orders, widgets, forms, extra URL helpers, and anything else you can imagine. I believe every application requires an admin panel—if not yet, it’s simply a matter of time until your basic application needs one. With Django admin, you can create one quickly and flexibly.</p><p style=\"margin-left:0px;\">Django has a powerful ORM which works with all major databases out of the box. Since it’s lazy, it hits your database only when you need it, unlike other ORMs. It supports all major SQL instructions (and functions) which you can use from your Python source code and feels very comfortable because of Python’s features.</p><p style=\"margin-left:0px;\">Django’s templating engine is very flexible and powerful at the same time. You can use a lot of standard <a href=\"https://docs.djangoproject.com/en/1.10/ref/templates/builtins/\"><u>filters and tags</u></a> as well as create your new custom filters and tags for your project. Django supports other template engines as well as Django templates, and it provides an API for easy integration of other template engines through standard shortcut functions for templates processing.</p><p style=\"margin-left:0px;\">Django has a lot of other big features like a URL router that can parse incoming requests and build new URLs from a router schema. As a whole, the Django framework is a pleasant experience and whenever you need help, just read the <a href=\"https://docs.djangoproject.com/\"><u>documentation</u></a>.</p><h2 style=\"margin-left:0px;\">Mistake No. 1: Using the Global System Python Environment for Project Dependencies</h2><p style=\"margin-left:0px;\">Don’t use Python’s global environment for project dependencies, since it can produce dependency conflicts. Python can’t use multiple package versions at the same time. This can be a problem if different projects require different incompatible versions of the same package.</p><p style=\"margin-left:0px;\">This mistake is usually made by new Python and Django developers that don’t know about Python’s environment isolation features.</p><p style=\"margin-left:0px;\">There are a lot of ways to isolate your environment, but the most common ways are:</p><ul><li><a href=\"https://www.toptal.com/virtualenv\"><strong><u>virtualenv</u></strong></a><strong>:</strong> A Python package which generates a Python environment folder and has scripts for [de]activating the environment and managing installed Python packages in the environment. This is my favorite method because it is the simplest way to do the job. Usually, I create the environment close to the project folder.</li><li><a href=\"http://docs.python-guide.org/en/latest/dev/virtualenvs/#virtualenvwrapper\"><strong><u>virtualenvwrapper</u></strong></a><strong>:</strong> A Python package which installs globally and provides a toolset for creating/deleting/activating/etc. virtual environments. All virtual environments are stored in one folder (which can be overridden through environment variable WORKON_HOME). I don’t see any advantages to using <code>virtualenvwrapper</code> instead of <code>virtualenv</code>.</li><li><strong>Virtual Machines (VM):</strong> There’s no greater isolation than an entire virtual machine dedicated to your application. There are plenty of tools to choose from, including <a href=\"https://www.virtualbox.org/wiki/Downloads\"><u>VirtualBox</u></a> (free), <a href=\"http://www.vmware.com/\"><u>VMware</u></a>, <a href=\"http://www.parallels.com/\"><u>Parallels</u></a>, and <a href=\"https://www.proxmox.com/en/\"><u>Proxmox</u></a> (my personal favorite, and it has a free version). Combined with a VM automation tool like <a href=\"https://www.vagrantup.com/\"><u>Vagrant</u></a>, this can be an extremely powerful solution.</li><li><strong>Containers:</strong> In the past few years, I’ve been using <a href=\"https://www.docker.com/\"><u>Docker</u></a> in almost every project, especially in every new project that I start from scratch. Docker is an amazing tool that provides a lot of features and has a lot of third-party tools for container automation. It has a layer caching feature which makes rebuilding your containers extremely fast. In containers, I use the global system Python environment, because every container has its own filesystem and projects are isolated on the high level. Docker allows new team members to start work on the project faster, especially if they have Docker experience.</li></ul><p style=\"margin-left:0px;\">If you ask me, I prefer the <code>virtualenv</code> Python package and Docker containers for project dependency isolation and management.</p><h2 style=\"margin-left:0px;\">Mistake No. 2: Not Pinning Project Dependencies in a <code>requirements.txt</code> File</h2><p style=\"margin-left:0px;\">Every new Python project should start with a <a href=\"https://pip.readthedocs.io/en/1.1/requirements.html\"><u>requirements.txt</u></a> file and a new isolated environment. Normally you install all packages through <code>pip/easy_install</code> but never forget to add them to your <code>requirements.txt</code> file too. This makes it easier (<i>possible</i> to be more appropriate) to deploy your project on servers, or for a team member to bootstrap the project on their own machine.</p><p style=\"margin-left:0px;\">Additionally, it is just as important to <i>pin</i> the specific version of your dependencies in your <code>requirements.txt</code> file. Usually, different versions of a package provide different modules, functions, and function parameters; even a minor version change in a dependency can break your package. This is a very serious problem if your project is live and you have regularly scheduled deployments since, without versioning, your build system will always install the latest available version of the package.</p><p style=\"margin-left:0px;\">Always pin your packages for production! Personally, I use a very nice tool called <a href=\"https://github.com/jazzband/pip-tools\"><u>pip-tools</u></a> which helps me do this. It provides a set of command-line tools that help manage your dependencies. It automatically generates a <code>requirements.txt</code> that pins not just your dependencies but your entire dependency tree, which includes the dependencies of your dependencies.</p><p style=\"margin-left:0px;\">Sometimes, you want to update only some packages from your dependencies list (for example, only Django/Flask/any framework or utility), if you used “pip freeze” you don’t know which dependencies are for which packages, and so you can’t upgrade a dependency. With pip-tools, however, it automatically pins the packages depending on which dependency you pinned, so it automatically resolves which packages need to be updated. As a bonus, you also know exactly which package came from which dependency because of how it marks them with comments in the <code>requirements.txt</code> file.</p><p style=\"margin-left:0px;\">To be extra cautious, it’s a nice idea to back up your dependency source files too! Keep a copy in your file system, a Git-managed folder, S3 folder, FTP, SFTP—wherever, but have it on hand. There have been instances where <a href=\"https://www.reddit.com/r/programming/comments/4bjss2/an_11_line_npm_package_called_leftpad_with_only/d19vjcm/\"><u>a relatively minor package being unlisted broke a large number of packages on npm</u></a>. Pip helpfully provides the tool for downloading all required dependencies as source files, read more by running <code>pip help download</code>.</p><h2 style=\"margin-left:0px;\">Mistake No. 3: Using Old-style Python Functions Instead of Class-based Views</h2><p style=\"margin-left:0px;\">Sometimes it is a good idea to use a small Python function in an application’s <code>views.py</code> file especially for tests or utility views, but generally, you should use class-based views (CBVs) in your applications.</p><p style=\"margin-left:0px;\">CBVs are generic views that provide abstract classes implementing common web development tasks built by professionals and covering all common behaviors. They have an amazing structured API, and you can use all of the advantages of object-oriented programming when you use CBVs. It makes your source code more clear and readable. Forget the pain of using Django standard view functions for listings, CRUD operations, forms processing, etc. You just extend the suitable CBV for your view and override class properties or functions (usually a function returns a property and you can add any logic there what makes spaghetti from your source code in case of using view functions instead of CBVs) which configure the view behavior.</p><p style=\"margin-left:0px;\">For example, you can have different mix-ins in your project which override basic CBV behaviors for building view contexts, checking authorization on the row level, auto-building template paths from your application structure, integrating smart caching, and more.</p><p style=\"margin-left:0px;\">I built the package named <a href=\"https://github.com/phpdude/django-template-names\"><u>Django Template Names</u></a>, which standardizes template names for your views based on an application name and a view class name. I use it every day and it saves a lot of my time for inventing names. Simply put the mixin in your CBV—<code>class Detail(TemplateNames, DetailView):</code>—and it will begin working! Of course, you can override my functions and add mobile responsive templates, different templates for user-agents, or anything else you want.</p><h2 style=\"margin-left:0px;\">Mistake No. 4: Writing Fat Views and Skinny Models</h2><p style=\"margin-left:0px;\">Writing your application logic in views instead of models means you’ve written code that belongs in your model into the view, making it “fat” and your model “skinny.”</p><p style=\"margin-left:0px;\">You should write fat models, skinny views.</p><p style=\"margin-left:0px;\">Break logic into small methods on your models. This allows you use it multiple times from multiple sources (admin interface UI, front-end UI, API endpoints, multiple views) in a few lines of code instead of copy-pasting tons of code. So next time you’re sending a user an email, extend the model with an email function instead of writing this logic in your controller.</p><p style=\"margin-left:0px;\">This also makes your code easier to unit test because you can test the email logic in one place, rather than repeatedly in every controller where this takes place.</p><p style=\"margin-left:0px;\">You can read more about the problem in the <a href=\"http://django-best-practices.readthedocs.io/en/latest/applications.html#make-em-fat\"><u>Django Best Practices</u></a> project. The solution is simple: Write fat models and skinny views, so let’s do it in your next project (or refactor your current one).</p><h2 style=\"margin-left:0px;\">Mistake No. 5: A Huge, Unmanageable Settings File</h2><p style=\"margin-left:0px;\">Even the new <a href=\"https://github.com/django/django/blob/master/django/conf/project_template/project_name/settings.py-tpl\"><u>Django project settings file</u></a> has a lot of settings. In a real project, a settings file grows to 700+ lines of configuration and is going to become difficult to maintain, especially when your dev, production, and staging environments all need custom configurations.</p><p style=\"margin-left:0px;\">You can divide the configuration file manually and create custom loaders, but I want to introduce you to a nice and well-tested Python package, <a href=\"https://github.com/sobolevn/django-split-settings\"><u>Django Split Settings</u></a>, that I have co-authored.</p><p style=\"margin-left:0px;\">The package provides two functions—<code>optional</code> and <code>include</code>—which support wildcards for the paths and import your configuration files in the same context, making it simple to build your configuration using declared configuration entries in previously loaded files. It doesn’t affect Django performance and you can use it in any project.</p><p style=\"margin-left:0px;\">Check out the minimal configuration example:</p><pre><code class=\"language-python\">from split_settings.tools import optional, include\r\n\r\ninclude(\r\n    'components/base.py',\r\n    'components/database.py',\r\n    'components/*.py',\r\n\r\n    # the project different envs settings\r\n    optional('envs/devel/*.py'),\r\n    optional('envs/production/*.py'),\r\n    optional('envs/staging/*.py'),\r\n    \r\n    # for any local settings\r\n    optional(‘local_settings.py'),\r\n)\r\n</code></pre><h2 style=\"margin-left:0px;\">Mistake No. 6: All-in-one Application, Bad Application Structure, and Incorrect Resource Placement</h2><p style=\"margin-left:0px;\">Any Django project consists of multiple applications. In Django notation, an <a href=\"https://docs.djangoproject.com/en/1.10/ref/applications/\"><u>application</u></a> is a Python package which contains at least <code>__init__.py</code> and <code>models.py</code> files; in the latest Django versions, <code>models.py</code> is no longer required. <code>__init__.py</code> is enough.</p><p style=\"margin-left:0px;\">Django applications can contain Python modules, <a href=\"http://django-best-practices.readthedocs.io/en/latest/applications.html#code-organization\"><u>Django-specific modules</u></a> (views, URLs, models, admin, forms, template tags, etc), static files, templates, database migrations, management commands, unit tests, and more. You should divide your monolith applications into small, <a href=\"https://docs.djangoproject.com/en/1.10/intro/reusable-apps/\"><u>reusable applications</u></a> using simple logic. You should be able to describe the entire purpose of the app in one or two short sentences. For example: “Allows users to register and activate their account by email.”</p><p style=\"margin-left:0px;\">It is a good idea is to call the project folder <code>project</code> and place applications in <code>project/apps/</code>. Then, place all application dependencies into their own subfolders.</p><p style=\"margin-left:0px;\"><strong>Examples:</strong></p><ul><li><i>Static files:</i> <code>project/apps/appname/static/appname/</code></li><li><i>Template tags:</i> <code>project/apps/appname/templatetags/appname.py</code></li><li><i>Template files:</i> <code>project/apps/appname/templates/appname/</code></li></ul><p style=\"margin-left:0px;\">Always prefix the application name in the subfolders because all static folders are merged into one folder and, if two or more applications had a <code>js/core.js</code> file, the last application in <code>settings.INSTALLED_APPLICATIONS</code> will override the previous ones. I once had this bug in my current project and lost about six hours debugging until I realized another developer had overridden <code>static/admin/js/core.js</code> because the team was implementing a custom SPA admin panel and named their files the same way.</p><p style=\"margin-left:0px;\">Here is example structure for a portal application which has a lot of resources and Python modules.</p><pre><code class=\"language-plaintext\">root@c5b96c395cfb:/test# tree project/apps/portal/\r\nproject/apps/portal/\r\n├── __init__.py\r\n├── admin.py\r\n├── apps.py\r\n├── management\r\n│   ├── __init__.py\r\n│   └── commands\r\n│       ├── __init__.py\r\n│       └── update_portal_feeds.py\r\n├── migrations\r\n│   └── __init__.py\r\n├── models.py\r\n├── static\r\n│   └── portal\r\n│       ├── css\r\n│       ├── img\r\n│       └── js\r\n├── templates\r\n│   └── portal\r\n│       └── index.html\r\n├── templatetags\r\n│   ├── __init__.py\r\n│   └── portal.py\r\n├── tests.py\r\n├── urls.py\r\n└── views.py\r\n\r\n11 directories, 14 files\r\n</code></pre><p style=\"margin-left:0px;\">Using such a structure, you can at any moment export the application into another Python package and use it again. You can even publish it in PyPi as an open source package, or move it to another folder.</p><p style=\"margin-left:0px;\">You’ll end up with a project structure like this:</p><pre><code class=\"language-ruby\">root@c5b96c395cfb:/test# tree -L 3\r\n.\r\n├── deploy\r\n│   ├── chef\r\n│   └── docker\r\n│       ├── devel\r\n│       └── production\r\n├── docs\r\n├── logs\r\n├── manage.py\r\n├── media\r\n├── project\r\n│   ├── __init__.py\r\n│   ├── apps\r\n│   │   ├── auth\r\n│   │   ├── blog\r\n│   │   ├── faq\r\n│   │   ├── pages\r\n│   │   ├── portal\r\n│   │   └── users\r\n│   ├── conf\r\n│   ├── settings.py\r\n│   ├── static\r\n│   ├── templates\r\n│   ├── urls.py\r\n│   └── wsgi.py\r\n└── static\r\n    └── admin\r\n        ├── css\r\n        ├── fonts\r\n        ├── img\r\n        └── js\r\n\r\n25 directories, 5 files\r\n</code></pre><p style=\"margin-left:0px;\">In a real project, of course, it will be more complex, but this structure makes things simpler and cleaner.</p><h2 style=\"margin-left:0px;\">Mistake No. 7: <code>STATICFILES_DIRS</code> and <code>STATIC_ROOT</code> Confuse Newbie Django Developers</h2><p style=\"margin-left:0px;\">&nbsp;</p><figure class=\"image\"><img src=\"https://assets.toptal.io/images?url=https://uploads.toptal.io/blog/image/122705/toptal-blog-image-1491788987975-5f894a765e4e5abeceb74738255f085d.jpeg\" alt=\"STATICFILES_DIRS? STATIC_ROOT?\"></figure><p style=\"margin-left:0px;\">&nbsp;</p><p style=\"margin-left:0px;\">Static files are assets which do not change through the app’s use, e.g., JavaScript, CSS, images, fonts, etc. In Django, they are only “collected” into a public directory during the deploy process.</p><p style=\"margin-left:0px;\">In development mode—<code>python manage.py runserver</code>—Django searches for static files using the <a href=\"https://docs.djangoproject.com/en/1.10/ref/settings/#std:setting-STATICFILES_FINDERS\"><code><u>STATICFILES_FINDERS</u></code></a> setting. By default, it tries to find the requested static file in folders listed in the <a href=\"https://docs.djangoproject.com/en/1.10/ref/settings/#std:setting-STATICFILES_DIRS\"><code><u>STATICFILES_DIRS</u></code></a> setting. In case of failure, Django tries to find the file using <code>django.contrib.staticfiles.finders.AppDirectoriesFinder</code>, which looks in the <code>static</code> folder of every installed application in the project. This allows you write reusable applications which are shipped with their own static files.</p><p style=\"margin-left:0px;\">In production, you serve your static using a standalone web server like Nginx. The web server knows nothing about the Django project applications structure or which folders your static files are distributed in. Fortunately, Django provides you with the collect static management command <code>python manage.py collectstatic</code>, which walks through <code>STATICFILES_FINDERS</code> and copies all static files from applications <code>static</code> folders and folders listed in <code>STATICFILES_DIRS</code> into the directory you specify in the <a href=\"https://docs.djangoproject.com/en/1.10/ref/settings/#static-root\"><code><u>STATIC_ROOT</u></code></a> setting. This allows for resolution of static file resources using the same logic as Django development mode server and has all static files in one place for your web server.</p><p style=\"margin-left:0px;\">Don’t forget to run <code>collectstatic</code> in your production environment!</p><h2 style=\"margin-left:0px;\">Mistake No. 8: Default <code>STATICFILES_STORAGE</code>, Django Templates Loaders in Production</h2><p style=\"margin-left:0px;\"><code>STATICFILES_STORAGE</code></p><p style=\"margin-left:0px;\">Let’s talk about production environment asset management. We can provide the best user experience if we use an “assets never expire” policy (which you can read more about <a href=\"https://css-tricks.com/strategies-for-cache-busting-css/\"><u>here</u></a>). It means that all our static files should be cached by web browsers for weeks, months, or even years. In other words, your users should download your assets only once!</p><p style=\"margin-left:0px;\">That’s cool, and we can do it with few lines in Nginx configuration for our static files folder, but what about cache invalidation? If the user will download our assets only once, what happens if you updated your logo, fonts, JavaScript, or the text color for an item in a menu? To bypass this, you should generate unique URLs and filenames for our static files on every deploy!</p><p style=\"margin-left:0px;\">We can do it simply by using <a href=\"https://docs.djangoproject.com/en/1.10/ref/contrib/staticfiles/#manifeststaticfilesstorage\"><u>ManifestStaticFilesStorage</u></a> as <code>STATICFILES_STORAGE</code> (be careful, hashing is only enabled in <code>DEBUG=false</code> mode) and running the <code>collectstatic</code> management command discussed above. This will decrease assets requests count to your production website and will make your website render much faster.</p><p style=\"margin-left:0px;\">Cached Django Template Loader</p><p style=\"margin-left:0px;\">Another cool Django feature is the cached template loader, which doesn’t reload and parse template files on every template render. Template parsing is a very expensive operation and uses a lot of resources. By default, Django templates are parsed on every request, but this is bad, especially during production, where you can process thousands of requests in a short span of time.</p><p style=\"margin-left:0px;\">Check out the <a href=\"https://docs.djangoproject.com/en/1.11/ref/templates/api/#django.template.loaders.cached.Loader\"><code><u>cached.Loader</u></code></a> configuration section for a good example and details on how to do this. Don’t use the loader in development mode because it doesn’t reload parsed templates from the file system; you will need to restart your project using <code>python manage.py startapp</code> on every template change. This can be annoying during development, but it is perfect for the production environment.</p><h2 style=\"margin-left:0px;\">Mistake No. 9: Pure Python Scripts for Utilities or Scripts</h2><p style=\"margin-left:0px;\">Django provides a very nice feature called <a href=\"https://docs.djangoproject.com/en/1.10/howto/custom-management-commands/\"><u>Management Commands</u></a>. Just use it instead of reinventing wheels and writing raw Python scripts for your project utilities.</p><p style=\"margin-left:0px;\">Also, check out the <a href=\"https://github.com/django-extensions/django-extensions\"><u>Django Extensions</u></a> package, which is a collection of custom extensions for Django. Maybe someone has already implemented your commands! There are already a lot a lot of common task commands.</p><h2 style=\"margin-left:0px;\">Mistake No. 10: Reinventing the Wheel</h2><p style=\"margin-left:0px;\">&nbsp;</p><figure class=\"image\"><img src=\"https://assets.toptal.io/images?url=https://uploads.toptal.io/blog/image/122706/toptal-blog-image-1491789002070-6932ff1fc32d89303b192104d38cb064.jpeg\" alt=\"Don't Reinvent the Wheel\"></figure><p style=\"margin-left:0px;\">&nbsp;</p><p style=\"margin-left:0px;\">Django and Python have thousands of ready-to-use solutions. Try Googling before you write something that is not unique; there’s probably a feature-rich solution that already exists.</p><p style=\"margin-left:0px;\">Just try to make things simple. Google first! Install, configure, extend, and integrate into your project if you find a good-quality package, and of course, contribute to open source when you have a chance.</p><p style=\"margin-left:0px;\">To start with, here’s a list of my own public packages for Django:</p><ul><li><a href=\"https://github.com/phpdude/django-macros-url\"><u>Django Macros URL</u></a> makes it easy to write (and read) URL patterns in your Django applications by using macros.</li><li><a href=\"https://github.com/phpdude/django-template-names\"><u>Django Templates Names</u></a> is a small mix-in which allows you to easily standardize your CBV template names.</li><li><a href=\"https://github.com/sobolevn/django-split-settings\"><u>django-split-settings</u></a> lets you organize Django settings into multiple files and directories. Easily override and modify settings. Use wildcards in settings file paths and mark settings files as optional.</li></ul><p style=\"margin-left:0px;\">Don’t Repeat Yourself (DRY)!</p><p style=\"margin-left:0px;\">I really like DRY methodology; that’s why I created <a href=\"https://github.com/phpdude/docker-django-webpack-skeleton\"><u>Django skeleton</u></a> as a convenience tool which has some really neat features out of the box:</p><ul><li>Docker images for development/production, managed by docker-compose, which allows you to orchestrate a list of containers easily.</li><li>Simple Fabric script for production deploy.</li><li>Configuration for the <a href=\"https://github.com/sobolevn/django-split-settings\"><u>Django Split Settings</u></a> package with settings for base and local sources.</li><li>Webpack integrated into the project - Only the <code>dist</code> folder will be collected by Django on <code>collectstatic</code> command.</li><li>Configured all basic Django settings and features like cacheable Django templates in production, hashed static files, integrated debug toolbar, logging, etc.</li></ul><p style=\"margin-left:0px;\">It’s a ready-to-use Django Skeleton for your next project from scratch and will, hopefully, save you a lot of time by bootstrapping your project. Webpack has minimal basic configuration, but it also has SASS installed pre-configured to handle <code>.scss</code> files.</p>", "time_create": "2023-06-16T15:35:50.116Z", "time_update": "2023-06-16T15:35:50.116Z", "is_published": true, "tags": [1, 2]}}, {"model": "home.work", "pk": 1, "fields": {"title": "How I made frontend for this site?", "slug": "how-i-made-frontend-for-this-site", "short_desc": "<p><span style=\"color:rgb(32,33,36);\">As I said, this site was completely made by myself (frontend part was made from scratch within a week) and now I propose to take a look at my decisions during the work on the project</span></p>", "content": "<p>Original figma design: <a href=\"https://www.figma.com/file/u96UjK2Kzo2bk0PhVdL5xr/John-%2B?type=design&amp;t=9JvsHz9ZCg13IG5g-0\">https://www.figma.com/file/u96UjK2Kzo2bk0PhVdL5xr/John-%2B?type=design&amp;t=9JvsHz9ZCg13IG5g-0</a></p><p><br><span style=\"color:rgb(32,33,36);\">As I said, this site was completely made by myself (frontend part was made from scratch within a week) and now I propose to take a look at my decisions during the work on the project</span></p><h2><span style=\"color:rgb(32,33,36);\"><strong>First things first separate css styles files.&nbsp;</strong></span></h2><p><span style=\"color:rgb(32,33,36);\">I It was absolutely unnecessary for a tiny project like that. I have got this idea from a freelancer on youtube and I really regretted this decision at the backend development stage.</span></p><p><span style=\"color:rgb(32,33,36);\">But I also picked '.svg' format for icons which was not a bad idea.</span></p><figure class=\"image image-style-align-center\"><img src=\"/media/Screenshot%20from%202023-06-10%2000-57-53.png\"></figure><h2><strong>The second thing is design changes.&nbsp;</strong></h2><p><br><span style=\"color:rgb(32,33,36);\">I noticed a lot of asymmetries and just strange design decisions, as an example, the lack of navigation to the main page of the site. So I decided to fix it and also add a cool animation where header is becoming a little smaller and always moves with you.</span></p><figure class=\"image image-style-align-center\"><img src=\"/media/Screenshot%20from%202023-06-10%2001-19-32.png\"></figure><p>Oh, right about that...</p><p>The scripts.js is responsible for header animation, and popup.js is for popup functions. I suggest you to take a closer look to them<br><span style=\"color:rgb(32,33,36);\">At first I tried to make a popup without javascript and it worked, but this variant was very shaky because it relied on objects hrefs to each other</span><br><span style=\"color:rgb(32,33,36);\">Therefore, I decided to use JS all the same, and not just JS, but JS along with JQuery, since I already had a frontend for the header written in JQuery and I mistakenly believed that if there is a library for any programming language, then it should be better than standard built-in functions. It was very difficult to make animations in jQuery, and I still don't understand why.</span></p><figure class=\"image image-style-align-center\"><img src=\"/media/Screenshot%20from%202023-06-10%2001-37-26_WBc0qyd.png\"></figure><p>Perhaps you may have questions about the function written over the jquery script. This function measures the scrollbar and returns its width. It is here because different browsers have different widths of scrollbars and so that our content does not move when we disable scrolling, we add padding the size of the scrollbar to the body</p><figure class=\"image image-style-align-center\"><img src=\"/media/Screenshot%20from%202023-06-10%2001-47-33.png\"></figure><p>The last point I want to talk about is the adaptability of the site. Unlike the layout, I didn't make the burger because it would affect usability</p><figure class=\"image image-style-align-center\"><img src=\"/media/Screenshot%20from%202023-06-10%2002-01-56.png\"></figure><p>In my opinion it's not bad for the first time, but next time I want to try .scss and react.js</p><p>That is all, thank you for your attention.</p>", "photo": "photos/2023/06/16/Screenshot_from_2023-06-10_01-10-43.png", "github_link": "https://github.com/JuicyS8da/John", "time_create": "2023-06-16T15:34:11.414Z", "time_update": "2023-06-16T15:34:11.415Z", "is_published": true, "tags": [1]}}, {"model": "home.posttags", "pk": 1, "fields": {"name": "Django", "slug": "django"}}, {"model": "home.posttags", "pk": 2, "fields": {"name": "Tips", "slug": "tips"}}, {"model": "home.worktags", "pk": 1, "fields": {"name": "Frontend", "slug": "frontend"}}, {"model": "home.resume", "pk": 1, "fields": {"file": "resume/resume_V4BvoPR.txt"}}, {"model": "home.about", "pk": 1, "fields": {"greet": "Hi, I am Alex, <br>\r\nJunior Web-Developer", "desc": "I am 4th year college student majoring in programming in computer systems. This site was made all by myself (except design). If you are interested in how I can be useful to your team - click down below!", "photo": "about/Alex_Ja5jeAh.jpg"}}]